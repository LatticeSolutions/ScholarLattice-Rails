<%
  if defined?(collection)
    subpath = submission.collection.path.filter do |c|
      c.ancestors.include?(collection)
    end
    crumbs = subpath.map do |c|
      { text: c.short_title }
    end
  else
    crumbs = []
  end
%>

<%= render CardComponent.new( 
  title: "#{submission.title} â€” #{submission.user.name_with_email}",
  description: submission.abstract,
  link_text: "View Submission",
  link_url: submission_path(submission),
  title_icon: submission.accepted? ? :submission_accepted : :submission,
  crumbs: crumbs,
) %>
