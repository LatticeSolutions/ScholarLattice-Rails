<ul class="list-disc pl-5 mt-2">
    <% events.sort_by { |e| e.starts_at }.each do |event| %>
    <li class="mb-2">
        <% unless defined?(hide_same_times) && hide_same_times %>
            <%= event.starts_at.strftime("%I:%M %p") %>:
        <% end %>
        <%= link_to event.title, event, class: "text-blue-600 hover:underline" %>
        <% if event.location.present? %>
            <span class="text-sm">in <span class="text-green-800"><%= event.location %></span></span>
        <% end %>
        <% if event.submission.present? %>
            <br>
            <span class="italic mathjax"><%= event.submission.title %></span>
            &mdash;
            <%= event.submission.profile.name %>
        <% end %>
        <% if event.children.present? %>
            <% unless defined?(children_limit) && children_limit && event.children.count > children_limit %>
                <%= render partial: "events/events_list", locals: { 
                    events: event.children, 
                    hide_same_times: event.children_have_same_times?, 
                    children_limit: defined?(children_limit) && children_limit 
                } %>
            <% end %>
        <% end %>
    </li>
    <% end %>
</ul>